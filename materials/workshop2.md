# Лекция 2: Два подхода к AI‑программированию

*Обновлено: 24 сентября 2025 года*

## Мета

**Формат:** 2‑часовой семинар‑обсуждение

**Ведущие:** Алексей (Лёша), Никита Кононов, Клод (AI)

---

## Ключевая идея

Мы уходим от «писать код» к «управлять системами, которые пишут код».

Два режима работы:

- **Автономные агенты** (Claude Code / Codex): быстрое создание с нуля, большие рефакторы, длительные автономные сессии.
- **IDE‑интеграции** (Cursor / VS Code / JetBrains): точечные правки, зрелые интерпрайз‑коды, локальный контроль.

---

## Сравнение подходов (добавлено по обсуждению)

### Когда агенты

- Зеленое поле: старт проекта, проектирование с нуля, быстрые архитектурные развороты.
- Многечасовые задачи без ручного участия.
- Глобальные изменения по всей кодовой базе.

**Сильные стороны:**

- Держат широкий контекст, отслеживают глубину вызовов (наблюдение: до ~8 звеньев стека) и сайд‑эффекты.
- Уверенно модифицируют существующие большие базы (улучшения заметны с лета 2025).

### Когда IDE

- Быстрые точечные правки; когда точно знаешь место изменений.
- Корпоративные репозитории с процессами и лимитами.
- Контроль файлов/патчей, поиски/массовые замены, локальные тесты.

**Ограничения IDE‑подхода:**

- Контекст‑окно и квоты API.
- Неудобно «думать за весь проект»; лучше для локальных вмешательств.

### Практический вывод

- Выбор — по задаче. Реальный стек: гибрид. Держать в руках оба инструмента и переключаться.

---

## Инструменты и наблюдения (по лекции)

- **Claude Code**: приложение терминала на React; заметный прогресс по большим базам; уверенно правит без ломки архитектуры.
- **OpenAI Codex / ChatGPT в VS Code**: быстро догоняет; уместен и для мелких правок, и для генерации модулей.
- **VS Code Insiders (Nightly)**: опережающие фичи/агенты; используем тестовую ветку.
- **JetBrains Juno**: силен в тестах и архитектурных заготовках.
- **Cursor**: удобен, но ограничен API‑квотами; подходит для повседневных правок.
- **Replit 3.0**: мгновенный деплой/демо для заказчиков.
- **V0.dev**: быстрый экспорт Figma→веб‑каркас; дальше удобнее дорабатывать в IDE.
- **Qwen и прочий OSS**: локальные мозги приближаются к лидам; разрыв сокращается.
- **Grok/Grok Coder**: в поле экспериментов.

Стоимость/доступ: цены растут; профессиональный стек окупается, если монетизируешь результат.

---

## Контекст‑мышление vs человеческие ограничения

- У человека узкое рабочее окно памяти; глубоко вложенные вызовы быстро «выпадают».
- Агент удерживает длинные цепочки и побочки, поэтому надежнее для сложных правок.
- Тезис: **спецификация важнее кода**. Код — расходник. RMRF‑переписывание нормализуется.

---

## Голос как интерфейс разработки

**Зачем:** плотность контекста выше, скорость выше, естественность выше.

**Практика:**

- Утро: голосом ставишь задачу → час автономной работы агента → проверка → следующая задача → вечер: готовый модуль.
- Запись разговора → транскрипт → дообработка топ‑моделью для кристаллизации требований.

**Инструменты:**

- **Whisper** локально (быстро, особенно на англ.)
- **11Labs** (качественно, но дорого; счетчик по минутам)
- **Voice mode** в ChatGPT (базовый), **`say`** на macOS для TTS.

---

## Доступ и ограничения: инженерная реальность

- Парадигма: используем сам ИИ для настройки окружения (VPS, VPN, DNS/hosts).
- Типовой паттерн: купить недорогой VPS → передать креды агенту → агент конфигурирует WireGuard/Amnezia, DNS‑резолвер, правит `hosts` при необходимости.
- Сетевые особенности: для некоторых сервисов важен **WebSocket/AppSocket**, а не только HTTP; учитывать при настройке.

---

## Обратная связь и оценивание через AI

- **Анонимный фидбек** после занятия: говоришь с агентом; собирает «сырое» мнение, агрегирует; ведущим приходят тезисы без привязки к личности.
- **Домашка голосом**: интервьюер‑аватар собирает ответы; итоговую оценку делает более мощная «материнская» модель на основе полного контекста; субъективное «заболтать» не работает.
- Регламент: в начале диалога представляться; при обрыве — повторный вход с указанием имени.

---

## Управленческая метафора

- У вас «джуниор‑олимпиадник» с бесконечной энергией — это агент. Задача — **постановка задач**, не микроменеджмент.
- Уровень 2: субагенты → вы уже не тимлид, вы руководитель направления; фокус на орг‑архитектуре, а не на коде.
- MCP‑интеграции: протягиваем инструменты (Figma и др.) прямо в агента; локальная автоматизация рабочих мест (скрипты macOS и т. п.).

---

## Риски и гигиена

- «Галлюцинации» сводятся при явной проверке: **заставляйте модель подтверждать через веб‑поиск/источники**.
- Промпт‑инъекции работают и на людях: держать контекст чистым, формулировки однозначными, проверять предпосылки.

---

## Домашнее задание (уточнено)

1. Проверить наличие рабочей подписки/доступа к хотя бы двум инструментам.
2. Одну задачу реализовать **двумя способами**: агент vs IDE. Замерить время и затраты. Сравнить дифф по коду/качеству.
3. Эксперимент на глубину контекста: изменение на 3–4 уровнях вложенности в существующем коде.
4. Сравнить **voice→code** против текстового ввода: где формулировки понятнее, где результат стабильнее.
5. Зафиксировать наблюдения кратко и предметно (что сработало/не сработало и почему).

---

## Мини‑FAQ по вопросам из зала

**Как стартовать продукт «который будет расти», но двигаться быстро?**

— Сначала голосом/текстом «прожарь» концепт с агентом: сценарии, API, данные, архитектурные срезы. Сформируй спецификацию: слои, границы, ограничения (вплоть до лимита на размер файла/модуля). Дальше — итеративная генерация по спецификации. Машине все равно на бардак, человеку — нет; закладывай читаемую слоеную структуру сразу в требования.

**Где взять голосовые инструменты без переплаты?**

— Whisper локально закрывает распознавание; TTS базовым `say`/встроенными режимами. 11Labs — точечно, когда нужна презентационка.

**Можно ли «все делать через агента»?**

— Да, включая DevOps‑рутинy (VPS/VPN/DNS), но держи «ручной дублер» на случай сбоев.

---

## Цитаты занятия

- «Мы в киберпанке: сидим и с роботом разговариваем»
- «Код — глина, не мрамор. RMRF и заново — норма»
- «Промпт‑инжиниринг умер; сейчас — управление агентами»
- «Галлюцинации перестают быть проблемой, если заставлять модель проверять себя»
- «Главный скилл — постановка задачи и отсечка неверных траекторий»

---

## Что дальше

Следующая встреча — демонстрация TDD/BDD/ATDD с AI: пишем спецификацию/тесты → получаем реализацию → регенерируем до зелени.

PS Дополнительные актуальные ссылки

### Под «IDE-подход (Cursor/VS Code)»

- **VS Code (v1.104) усилил Agent Mode:** детект запросов ввода у запущенных задач, всплывающие подтверждения, лучшее отслеживание ошибок через problem matchers. Формулировка в конспект: *«IDE становится агентной: VS Code Agent Mode сам ведёт процессы, спрашивает ввод и доисправляет»*. ([Visual Studio Code](https://code.visualstudio.com/updates?utm_source=chatgpt.com))
- **Copilot Code Review теперь в JetBrains и Visual Studio:** единый поток автопроверок до пуша/PR. Формулировка: *«Код-ревью от ИИ встроено прямо в JetBrains/VS: ловит регрессии до PR»*. ([The GitHub Blog](https://github.blog/changelog/2025-09-18-copilot-code-review-now-in-jetbrains-ides-and-visual-studio/?utm_source=chatgpt.com))
- **Copilot Coding Agent на GitHub.com:** панель Agents запускает автономные таски по описанию («включи strict mode и поправь типы») с прогрессом и отчётом. Формулировка: *«Рутинные задачи отдаём агенту в GitHub — IDE не открываем»*. ([The GitHub Blog](https://github.blog/ai-and-ml/github-copilot/5-ways-to-integrate-github-copilot-coding-agent-into-your-workflow/?utm_source=chatgpt.com))

### Под «Автономные агенты»

- **Replit Agent 3:** длинные автономные сессии, ориентир на «Autonomy for All». Формулировка: *«Agent-first в проде: Agent 3 строит/тестирует/чинит с минимальным надзором»*. ([InfoQ](https://www.infoq.com/news/2025/09/replit-agent-3/?utm_source=chatgpt.com))
- **xAI Grok Code Fast 1 в OCI (beta):** спец-модель под agentic-coding/редактирование/отладку. Формулировка: *«Нишевые код-модели под агентную работу заходят в облака и CI»*. ([Oracle Docs](https://docs.oracle.com/iaas/releasenotes/generative-ai/grok-code-fast-1-beta.htm?utm_source=chatgpt.com))

### Под «MCP / интеграции / оркестрация»

- **MCP — де-факто стандарт интеграций:** разбор «что важно» + рост MCP-серверов в энтерпрайзе. Формулировка: *«MCP = USB-C для ИИ-инструментов: стандартизированные права, аудит, переносимость»*. ([TechRadar](https://www.techradar.com/pro/the-4-most-critical-aspects-of-model-context-protocol-mcp-for-developers-building-ai-native-architectures?utm_source=chatgpt.com))
- **Актуальная спецификация MCP (2025-06-18):** ссылку указать как «нормативка». Формулировка: *«Спека MCP 2025-06-18: JSON-RPC, elicitation, structured tool output»*. ([Model Context Protocol](https://modelcontextprotocol.io/specification/2025-06-18?utm_source=chatgpt.com))

### Под «Мультимодельность как новая норма»

- **Microsoft 365 Copilot добавил модели Anthropic (Claude Sonnet 4 / Opus 4.1):** выбор модели под задачу в Researcher и Copilot Studio. Формулировка: *«Выбираем мозг под задачу: OpenAI ↔ Anthropic прямо в M365»*. ([Reuters](https://www.reuters.com/business/microsoft-brings-anthropic-ai-models-365-copilot-diversifies-beyond-openai-2025-09-24/?utm_source=chatgpt.com))

### Под «Голосовое взаимодействие»

- **OpenAI Realtime API (релиз 15 сентября):** продакшен-возможности для voice-агентов, поддержка MCP-серверов, image-input и SIP-звонков. Формулировка: *«Voice→Code стал продакшеном: realtime-агенты, инструменты через MCP, телефония»*. ([OpenAI](https://openai.com/index/introducing-gpt-realtime/?utm_source=chatgpt.com))

### Под «Практические инсайты / экосистема IDE»

- **Cursor: стабильность терминала и агентных команд:** фиксы зависаний, уведомления, обсуждения релиза 1.6 в сентябре. Формулировка: *«Агент умеет надёжно гонять shell/SSH; меньше ручного babysitting»*. ([Cursor](https://cursor.com/changelog?utm_source=chatgpt.com))

### Под «Риски и гигиена»

- **Anthropic: пост-мортем трёх инцидентов (сентябрь):** прозрачность по деградациям качества и фиксам. Формулировка: *«Даже лидеры ловят баги; важна эксплуатационная дисциплина и пост-мортемы»*. ([Anthropic](https://www.anthropic.com/engineering/a-postmortem-of-three-recent-issues?utm_source=chatgpt.com))

### Под «Голосовые стеки (альтернатива 11Labs)» — необязательный сносковый блок

- **11Labs: обновления платформы агентов с привязкой к MCP-толу перед запуском:** удобнее озвучивать то, что агент делает инструментом. Формулировка: *«До-инструментальная речь у голосового агента повышает понятность действий»*. ([ElevenLabs](https://elevenlabs.io/docs/changelog/2025/9/22?utm_source=chatgpt.com))

---

Мини-врезки:

1. *«IDE становится агентной: VS Code 1.104 и GitHub Copilot перетягивают автономность в редактор — агент сам запускает процессы, спрашивает ввод, ловит ошибки, делает код-ревью до PR»*. ([Visual Studio Code](https://code.visualstudio.com/updates?utm_source=chatgpt.com))
2. *«Автономные агенты выходят в enterprise-циклы: Replit Agent 3 и Grok Code Fast 1 целятся в длительные, воспроизводимые сессии с отчётностью»*. ([InfoQ](https://www.infoq.com/news/2025/09/replit-agent-3/?utm_source=chatgpt.com))
3. *«MCP стандартизирует подключение инструментов: меньше клея руками, больше управляемости и аудита; рост MCP-серверов подтверждается в sec-индустрии»*. ([Model Context Protocol](https://modelcontextprotocol.io/specification/2025-06-18?utm_source=chatgpt.com))
4. *«Мультимодельность закрепляется: в M365 Copilot выбираем Claude или OpenAI под задачу; это подтверждает тезис “модель как сменный модуль”»*. ([Reuters](https://www.reuters.com/business/microsoft-brings-anthropic-ai-models-365-copilot-diversifies-beyond-openai-2025-09-24/?utm_source=chatgpt.com))
5. *«Голос→агенты созрели для продакшена: Realtime API даёт низкую задержку, SIP, MCP-tools — можно строить настоящие voice-оркистрации»*. ([OpenAI](https://openai.com/index/introducing-gpt-realtime/?utm_source=chatgpt.com))